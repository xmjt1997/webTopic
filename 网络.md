# 计算机网络

> `DNS` Domain Name Server (域名服务器)

==作用==：将域名和对应ip相转换

==特征==：DNS中有一张域名和IP地址的映射表，展示了域名和IP地址对应关系，一个域名对应一个IP，一个Ip可以对应多个域名。

> `gTlD` generic Top-Level NDS Server (顶级域名服务器)
>
> 为.com 、.net 等后缀域名做解析



> ​	解析流程（无本地缓存）

1、首先访问root根服务器进行查找，

2、跳转到顶级域名服务器进行查找解析，

3、跳转到域名服务器（运营商）进行解析查找

4、域名服务器根据域名返回映射的ip地址

5、客户端接收ip，缓存到本地

![](%E7%BD%91%E7%BB%9C.assets/Snipaste_2020-08-10_14-46-59.png)

### IP

> `IP`:  Internet Protocol Address (互联网协议地址)

==作用==：给用户上网分配互联网协议地址。

==类型==：IPv4、IPv6



`ipv4`: 192.168.0.0 (长度32位，4字节，10进制表达)

`ipv6`: ABCD:EF01:2345:6783:ABCD:EF01:1331:5235

(8组，128位，16进制，)

优势：路由表更小，安全性更高，自动配置支持

### Port

> IP服务器下的服务地址， （端口号）

==默认范围==：`0-65535`

==http==协议默认端口号：`80`

==https==协议默认端口号：``443`



### TCP

> TCP : Transmission Control Protocol (传输控制协议) 【一对一电话通信】

==特点==：面向连接（建立`可靠`的连接）

==建立连接基础==：`三次握手`

==应用场景==：数据传输接收，HTTP请求，FTP文件传输，邮件收发

==优点==：稳点，重传机制、拥塞控制机制、断开连接

==缺点==：速度慢，占资源、效率低、容易被DDOS攻击



> TCP/IP 协议组：提供点对点连接机制，定制了数据封装、传输、路由、接收等标准、



### UDP

> UDP : User Data Protocol （用户数据报协议）【广播】

==特点==：面向无连接（`不可靠`的连接,无状态传输机制）

==应用场景==：无需确保通讯质量，要求通讯速度快，（QQ，直播，语音通话）

==优点==：安全、快速、漏洞少，支持一对一，一对多，实时性高

==缺点==：不可靠、不稳定、容易丢包

==总结==：只要有目标源地址、端口号、信息正确时就可以直接发送信息报文、但不能保证接收到完整数据。



### HTTP

> HTTP : HyperText Transfer Protocol (超文本传输协议)

==定义==客户端和服务器之间请求和响应的标准，用于从web服务器传输超文本到本地浏览器的传输协议

==Http==请求：按照协议规则向web服务器发送将超文本传输到本地的请求。

### HTTP常用请求头

|     协议头      |                 说明                  |
| :-------------: | :-----------------------------------: |
|     Acceop      | 可接受的响应内容类型（Content-Types） |
| Accept-Encoding |         可接受的响应内容编码          |
|  Content-Type   |     请求MIM类型（POST，PUT请求）      |
|      Date       |          发送消息的日期时间           |

### 常用的HTTP请求方式

`HTTP 1.0`: 

​	1、GET :从指定的资源请求数据

​	2、POST: 向指定的资源提交要处理的数据（表单信息，json）

​	3、HEAD ：类似GET请求，不返回响应内容，只有头部信息（只请求资源头部信息，检测超链接有效性）

`HTTP 1.1`:

​	1、PUT : 替换或创建指定资源

​	2、DELETE : 对指定的资源进行删除操作

`HTTP 2.0`:

​	1、OPTIONS : 用于获取目的资源所支持的通信选项

​	2、TRACE :	实现沿通向目标资源的路径的消息环回

​	3、CONNECT ：为代理服务器准备的

> ​	所有服务器都支持GET | POST 方法，其它方法都是可选项



### GET | POST区别

`1、`get参数通过url地址来传递，post通过request.body中传递

`2、`get请求在url地址中传递的参数有长度限制，pos传递参数没有长度限制

`3、`get相较pos而言更不安全，参数直接已明文的方式暴露在url中，通常不用来传递敏感信息

`4、`get请求只能进行url编码，post支持多种编码方式

`5、` get请求参数会被保存在浏览器的history历史记录中，post不会保存参数信息

### HTTP常见状态码

`1xx`（Informational）：收到请求，正在处理

- ==100==：Continue ：客户端继续其请求

`2xx`（Successful）：请求成功

- ==200==：OK ：请求成功 一般用于GET | POST 
- ==202==：Accepted : 服务器已接受请求，但未处理完成

`3xx`（Redirection）: 重定向

- ==301== Moved Permanently ：请求的资源已被永久的移动到新URI
- ==302== Found ：资源临时被移动，但继续使用原url访问
- ==304==  Not Modified ：服务器返回此状态码时，不会返回任何资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源
- ==305== Use Proxy ：必须使用代理来访问资源

`4xx`（Client Error）: 请求失败·，

- ==400== ：Bad Request 客户端请求语法错误，服务器无法解析
- ==401==：Unauthorized ：请求用户身份认证
- ==403== ：Forbidden : 服务器接收客户端请求，但拒绝响应
- ==404== ：Not Found ：服务器无法根据url地址找到资源
- ==405== :   Method  Not Allowed :客户端请求方法被禁止
- ==408== ：Request Time-out ：服务器等待客户端请求时长超时 

`5xx`（Server Error）: 服务器错误

- ==500== ：Internal Server Error ：服务器内部错误 无法完成请求
- ==501== ：Not Implemented ：服务器不支持请求功能
- ==505== ：HTTP Version not supported ：服务器不支持请求的HTTP协议版本 

 



### HTTPS	

> HTTPS :  HyperText Transfer Protocol  Secure （超文本传输安全协议）

==定义==：HTTP的安全版 （SSL/TLS）

==SSL==:  Secure Sockets Layer 

==TLS==:  Transport  Layer  Security 

为网络通信提供安全和数据完整性的一种安全协议，对网络连接进行加密，(http协议是明文传输，有安全隐患)



> ​	HTTP和Https 的差别

![](%E7%BD%91%E7%BB%9C.assets/Snipaste_2020-08-10_15-39-39.png)

### TCP三次握手流程



> 标志位		

`SYN`：Synchronize Sequence Numbers (同步序列编号)

`ACK`:   Acknowledgement (确认字符)



> 状态

`LISTEN`: (服务器) 侦听客户端的TCP建立请求

`SYN-SENT`: (客户端) 发送一个连接请求后，等待服务器响应

`SYN-RECEIVED` (服务器) 收到一个 连接请求，并响应请求连接收 等待客户端请求连接确认。

`ESTABLISHED` (客户端) 打开一个连接通道完毕，数据可以进行传送



> 流程

1、客户端发送建立连接请求，携带一个同步序列标号`SYN J`，`SYN J`的值为==200==，

2、服务器接收到客户端的连接请求，响应请求回给客户端，返回一个`SYN K`同步序列号和一个确认包`ACK J+1` 发送序号==500==，确认序号==201==，

3、客户端接收到服务器确认连接请求，再向服务器发送一个确认请求连接成功的响应。携带一个确认包`ACK K+1` 发送序号==201==，确认序号==501== 【最后一次只需要发送确认，不需要发送请求】

`⭐下一次的响应序号=上一次的同步序号 +1` 

![](%E7%BD%91%E7%BB%9C.assets/Snipaste_2020-08-10_16-26-46.png)



### 四次挥手

​		1.因为是双方彼此都建立了连接，因此双方都要释放自己的连接，A向B发出一个释放连接请求，他要释放链接表明不再向B发送数据了，此时B收到了A发送的释放链接请求之后，给A发送一个确认，A不能再向B发送数据了，它处于FIN-WAIT-2的状态，但是此时B还可以向A进行数据的传送。此时B向A 发送一个断开连接的请求，A收到之后给B发送一个确认。此时B关闭连接。A也关闭连接。

​		2.为什么要有TIME-WAIT这个状态呢，这是因为有可能最后一次确认丢失，如果B此时继续向A发送一个我要断开连接的请求等待A发送确认，但此时A已经关闭连接了，那么B永远也关不掉了，所以我们要有TIME-WAIT这个状态。

当然TCP也并不是100%可靠的。

### CDN

> CDN :  Content Delivery Network (内容分发网络)

==原理==：将一些资源放置到各种缓存服务器中，将这些缓存服务器分布到用户访问集中的区域网络上，当用户访问自身网站时，利用全局负载技术将用户的访问指向CDN服务器上，来减少自身服务器的资源访问，从而提升访问速度



### 网络安全（待）



网络代理

正向代理  ==>解决跨越问题

反向代理  ==> 服务器的负载均衡





















